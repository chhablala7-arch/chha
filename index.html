<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>рдлреЛрдЯреЛ + рд▓рд┐рдВрдХ рдУрдкрдирд░</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
      margin-top: 30px;
    }
    img {
      cursor: pointer;
      border: 3px solid #444;
      border-radius: 10px;
      margin-top: 20px;
      max-width: 90%;
    }
    input {
      padding: 8px;
      width: 80%;
      max-width: 400px;
      margin-top: 10px;
      border: 2px solid #444;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #4CAF50;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #45a049;
    }
    p {
      margin-top: 10px;
      color: #555;
    }
  </style>
</head>
<body>

  <h2>ЁЯСЙ рдЕрдкрдиреА рдлреЛрдЯреЛ рдЪреБрдиреЗрдВ рдФрд░ рд▓рд┐рдВрдХ рдбрд╛рд▓реЗрдВ</h2>

  <!-- рдлреЛрдЯреЛ рдЪреБрдирдиреЗ рдХрд╛ рдСрдкреНрд╢рди -->
  <input type="file" accept="image/*" onchange="loadPhoto(event)">
  <br>

  <!-- рд▓рд┐рдВрдХ рдбрд╛рд▓рдиреЗ рдХрд╛ рдСрдкреНрд╢рди -->
  <input type="text" id="userLink" placeholder="рдпрд╣рд╛рдБ рдЕрдкрдирд╛ рд▓рд┐рдВрдХ рдбрд╛рд▓реЗрдВ (рдЬреИрд╕реЗ https://www.google.com)">
  
  <p>рдКрдкрд░ рд▓рд┐рдВрдХ рдбрд╛рд▓реЗрдВ рдФрд░ рдлрд┐рд░ рдлреЛрдЯреЛ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ ЁЯСЗ</p>

  <!-- рдЪреБрдиреА рдЧрдИ рдлреЛрдЯреЛ -->
  <img id="myPhoto" src="" alt="рдЖрдкрдХреА рдлреЛрдЯреЛ рдпрд╣рд╛рдБ рджрд┐рдЦреЗрдЧреА" style="display:none;" onclick="openMyLink()">

  <!-- рд╢реЗрдпрд░ рдмрдЯрди -->
  <br>
  <button onclick="sharePhoto()">ЁЯУд рд╢реЗрдпрд░ рдХрд░реЗрдВ</button>

  <script>
    let selectedFile; 
    let hiddenLink = ""; 

    function loadPhoto(event) {
      selectedFile = event.target.files[0];
      let img = document.getElementById("myPhoto");
      img.src = URL.createObjectURL(selectedFile);
      img.style.display = "block";
    }

    function openMyLink() {
      let link = document.getElementById("userLink").value || hiddenLink;
      if(link) {
        window.open(link, "_blank");
      } else {
        alert("рдкрд╣рд▓реЗ рдХреЛрдИ рд▓рд┐рдВрдХ рдбрд╛рд▓реЗрдВ!");
      }
    }

    async function sharePhoto() {
      hiddenLink = document.getElementById("userLink").value;

      if (!selectedFile) {
        alert("рдкрд╣рд▓реЗ рдХреЛрдИ рдлреЛрдЯреЛ рдЪреБрдиреЗрдВ!");
        return;
      }

      if (navigator.share) {
        try {
          await navigator.share({
            title: "рдореЗрд░реА рдлреЛрдЯреЛ",
            text: "рдпрд╣ рдлреЛрдЯреЛ рджреЗрдЦреЗрдВ: " + (hiddenLink || "рдХреЛрдИ рд▓рд┐рдВрдХ рдирд╣реАрдВ"),
            url: hiddenLink || ""
          });
        } catch (err) {
          console.log("рд╢реЗрдпрд░ рд░рджреНрдж рдХрд┐рдпрд╛ рдЧрдпрд╛ рдпрд╛ рд╕рдорд╕реНрдпрд╛:", err);
        }
      } else {
        alert("рдЖрдкрдХрд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╢реЗрдпрд░ рд╕рдкреЛрд░реНрдЯ рдирд╣реАрдВ рдХрд░рддрд╛ред");
      }
    }
  </script>

</body>
</html>